# CFOC 电机控制项目

## 项目概述

**CFOC** 是一个FOC电机控制系统，使用STM32F405，硬件采用odrive的硬件

## 开发环境

在windows下使用cubemx + armgcc + openocd开发

## 项目结构

cfoc/
├── User/ # 主要代码目录
│ ├── bsp/ # 延时等板载功能
│ ├── device/ # 上位机，编码器等功能
│ ├── lib/ # foc，pid等算法
│ ├── module/ # 模块
│ └── task/ # 所有任务
├── Core/ # cubemx生成的文件
├── Drivers/ # cubemx生成的文件
├── Middlewares/ # cubemx生成的文件
├── README.md # 项目说明文件
└── cfoc.ioc # STM32CubeMX 配置文件

## 功能列表

### 已完成
- **电流环控制**：svpwm已完成，可以开环转动电机
- **电流环控制**：实现了基于FOC的电流环控制，能够对电机的d轴和q轴电流进行闭环控制。

### 计划开发
- **编码器接口**：加入编码器支持，实现电机位置和速度的精确检测。
- **无感控制**：实现无传感器控制，通过反电动势估算电机位置和速度。
- **通信功能**：加入UART、CAN或SPI等通信接口，实现与上位机或其他设备的通信。
- **自动识别电机参数**：实现电机参数的自动识别功能，包括电阻、电感、反电动势常数等。


